<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
<title>Distribución Lotes en Placas -covid19</title>
<object th:include="fragmentos :: fragmentoHead" th:remove="tag"></object>

</head>
<body>

	<object th:replace="fragmentos :: header-responsive" th:remove="tag"></object>
<div id="lotesRecibidos" class="container">
	<div class="row justify-content-center mt-1, titulo-menu">
			<h5>Gestión de lotes en placas</h5>
    </div>
    <div class="row justify-content-left mt-3">
    	<div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">		      
				<div class="list-group">
				  <a href="/laboratorioUni/buscarLotes" class="list-group-item list-group-item-action text-white bg-secondary">Gestión lotes centros de salud</a>
				  <a href="/laboratorioUni/buscarPlacas" class="list-group-item list-group-item-action">Gestión placas Visavet</a>
				  <a href="#" class="list-group-item list-group-item-action">Salir</a>
				</div>
		</div>
  
	
   <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">		   
   <form action="#" th:action="@{/laboratorioUni/buscarLotes}"
			id="formularioPrueba" method="post" th:object="${lotePlacaVisavetBean}"
			class="form-horizontal">
        <div class="row justify-content-end mt-3">
			<div class="col-2">
				<button type="button" th:onClick="|altaNuevaPlaca(); return false|"  class="btn btn-secondary">Alta nueva placa</button>
			</div>
		</div>	   

			<fieldset id="criteriosBusqueda" style="display:none" class="form-group border p-2">
		    <legend class="w-auto">Asignación de referencias a muestras</legend>
			  <div class="row">
				<div class="col-3 form-group">
				<label class="col-xs-2">Placa número:</label><label class="col-xs-2"><span id="numPlacaSpan"/></label>
				</div>
				<div class="col-9 form-group">
				<label class="col-xs-2">Tamaño:</label>
						<label class="col-xs-2">
							 <select class="form-control form-control-sm" id="tamano" th:field="*{placa.tamano}">
					              <option th:each="var: ${lotePlacaVisavetBean.listaTamanosDisponibles}"
									th:value="${var}" th:text="${var}"
									th:select="${lotePlacaVisavetBean.placa.tamano}">Tamaño</option>
				           </select>
						</label>
			    </div>
			    
			  </div>
			 

		</fieldset>
		
		
		
		<!-- Aqui vienen los resultados -->
		<div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">	&nbsp;</div>
		<div id="capaResultados" 
			class="row formPnl1">
		
			
			
					<table class="col-xs-12 table" th:id="tablaResultadosLotes" >
						 <thead class="thead-light">
				<tr>
				
				    <th  width="1%" style="text-align: left;">#Placa</th>
					<th  width="1%" style="text-align: left;">#Lote</th>
					<th width="10%" style="text-align: left;">Centro</th>
					<th  width="5%" style="text-align: left;">Nº de muestras</th>
					<th  style="text-align: left;" width="1%">#Muestras</th>
					
				
				</tr>
				</thead>
			 	<tr th:id="trGroup+ ${count.index}"   th:each="unResultado,count : ${lotePlacaVisavetBean.placa.listaLotes}">
					         <table>
					         <tr>
					           <td width="2%">
								<span th:text="${lotePlacaVisavetBean.placa.id}"></span>
								</td>
								<td width="1%">
								<span th:text="${unResultado.numLote}"></span>
								</td>
                                <td width="10%">
								<span th:text="${unResultado.centroProcedencia}"></span>
								</td>
                                <td width="5%">
								<span th:text="${#lists.size(unResultado.listaMuestras)}"></span>
								</td>
                              <td id="mensajes_log" style="text-align: left;" width="1%">
                              <a th:data-lote="${unResultado.numLote}" href="#" th:onclick="|mostrarMuestrasPlacas(this.getAttribute('data-lote'));|">
										<i class="fa fa-table" aria-hidden="true" id="rere"
										style="font-size: 1.2em;"></i>
								</a>
								
								</td>
								</tr>
								<tr><td colspan="5">HOLLLLL</td></tr>
								</table>
					</tr>	
					
			</table>
			
			</div>
		
		 <!--  capa de resultados -->
		</form>
		</div>
</div>
	</div>
		</div> 	
	

<object th:replace="fragmentos :: footer-responsive" th:remove="tag"></object>
<!--  contenedor de todo -->
	<!--  
	<script th:src="@{/js/util.js}" src="static/js/util.js"
		type="text/javascript"></script>
	<script th:src="@{/js/funcionesLotes.js}"
		src="static/js/funcionesLotes.js" type="text/javascript"></script>
	<object th:include="fragmentos :: scriptsBootstrap" th:remove="tag"></object>
	-->
	
</body>
</html>